sudo: required
dist: trusty
language: python
python:
 - "2.7"
 - "3.4"
 - "3.5"
env:
  global:
     - LD_LIBRARY_PATH=/usr/lib/llvm-3.7/lib
     - CFLAGS="-I/usr/lib/llvm-3.7/include -DNDEBUG -D_GNU_SOURCE -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -g -O2 -fomit-frame-pointer -fPIC
     - LDFLAGS=-L/usr/lib/llvm-3.7/lib
before_install:
  - curl http://llvm.org/apt/llvm-snapshot.gpg.key | sudo apt-key add -
  - echo "deb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.7 main" | sudo tee -a /etc/apt/sources.list
  - sudo apt-get update -y
  - sudo apt-get install libclang-3.7-dev llvm-3.7-dev -y
script:
  - python setup.py test
